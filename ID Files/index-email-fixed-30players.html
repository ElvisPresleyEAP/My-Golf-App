<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Scorecard by Kamal</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Main App component for the golf scorecard.
        const App = () => {
            // Initial data for holes.
            const initialHoles = [
                { no: 1, par: 4, index: 16 }, { no: 2, par: 3, index: 10 }, { no: 3, par: 4, index: 4 },
                { no: 4, par: 4, index: 6 }, { no: 5, par: 4, index: 14 }, { no: 6, par: 4, index: 2 },
                { no: 7, par: 5, index: 8 }, { no: 8, par: 3, index: 12 }, { no: 9, par: 4, index: 18 },
                { no: 10, par: 4, index: 5 }, { no: 11, par: 4, index: 7 }, { no: 12, par: 5, index: 17 },
                { no: 13, par: 4, index: 1 }, { no: 14, par: 3, index: 13 }, { no: 15, par: 4, index: 9 },
                { no: 16, par: 5, index: 15 }, { no: 17, par: 3, index: 11 }, { no: 18, par: 4, index: 3 },
            ];
            const [holes, setHoles] = useState(initialHoles);

            // States for players, handicaps, scores, etc.
            const [clubName, setClubName] = useState('Letchworth Golf Club');
            const [players, setPlayers] = useState(['Player 1', 'Player 2', 'Player 3', 'Player 4']);
            const [playerHandicaps, setPlayerHandicaps] = useState(Array(4).fill(0));
            const [scores, setScores] = useState(
                Array(initialHoles.length).fill(null).map(() => Array(4).fill(''))
            );
            const [points, setPoints] = useState(
                Array(initialHoles.length).fill(null).map(() => Array(4).fill(''))
            );
            const [playerGrossTotals, setPlayerGrossTotals] = useState(Array(4).fill(0));
            const [playerPointTotals, setPlayerPointTotals] = useState(Array(4).fill(0));
            const [playerCountbackGrossTotals, setCountbackGrossTotals] = useState(Array(4).fill(0));
            const [playerCountbackPointTotals, setCountbackPointTotals] = useState(Array(4).fill(0));

            const scorecardTitle = 'Golf Scorecard by Kamal';

            // Load saved data from localStorage on component mount
            useEffect(() => {
                const savedData = localStorage.getItem('golf-scorecard-data');
                if (savedData) {
                    try {
                        const data = JSON.parse(savedData);
                        if (data.clubName) setClubName(data.clubName);
                        if (data.players) setPlayers(data.players);
                        if (data.playerHandicaps) setPlayerHandicaps(data.playerHandicaps);
                        if (data.scores) setScores(data.scores);
                        
                        // Update totals arrays based on actual number of players
                        const numPlayers = data.players ? data.players.length : 4;
                        setPlayerGrossTotals(Array(numPlayers).fill(0));
                        setPlayerPointTotals(Array(numPlayers).fill(0));
                        setCountbackGrossTotals(Array(numPlayers).fill(0));
                        setCountbackPointTotals(Array(numPlayers).fill(0));
                    } catch (error) {
                        console.error('Error loading saved data:', error);
                    }
                }
            }, []);

            // Save data to localStorage whenever key data changes
            useEffect(() => {
                const dataToSave = {
                    clubName,
                    players,
                    playerHandicaps,
                    scores,
                    lastSaved: new Date().toISOString()
                };
                localStorage.setItem('golf-scorecard-data', JSON.stringify(dataToSave));
            }, [clubName, players, playerHandicaps, scores]);

            // Memoized sums for par totals.
            const totalPar = holes.reduce((acc, hole) => acc + hole.par, 0);
            const front9Par = holes.slice(0, 9).reduce((acc, hole) => acc + hole.par, 0);
            const back9Par = holes.slice(9, 18).reduce((acc, hole) => acc + hole.par, 0);

            // --- Score Calculation Logic ---
            useEffect(() => {
                const newPoints = holes.map((hole, holeIndex) => {
                    return players.map((_, playerIndex) => {
                        if (playerIndex >= scores[holeIndex].length) return '';
                        const grossScore = scores[holeIndex][playerIndex];
                        const handicap = playerHandicaps[playerIndex] || 0;
                        const index = hole.index;
                        if (grossScore === '') return '';
                        const numericGrossScore = parseInt(grossScore, 10);
                        let strokes = 0;
                        if (handicap > 0) {
                            strokes = Math.floor(handicap / 18) + (index <= (handicap % 18) ? 1 : 0);
                        }
                        const nettStrokes = numericGrossScore - strokes;
                        const diff = nettStrokes - hole.par;
                        let pts = 0;
                        if (diff <= -2) pts = 4;
                        else if (diff === -1) pts = 3;
                        else if (diff === 0) pts = 2;
                        else if (diff === 1) pts = 1;
                        else pts = 0;
                        return pts;
                    });
                });
                setPoints(newPoints);

                const newGrossTotals = players.map((_, playerIndex) =>
                    scores.reduce((acc, holeScores) => {
                        const score = holeScores[playerIndex];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0)
                );
                setPlayerGrossTotals(newGrossTotals);

                const newPointTotals = players.map((_, playerIndex) =>
                    newPoints.reduce((acc, holePoints) => acc + (holePoints[playerIndex] || 0), 0)
                );
                setPlayerPointTotals(newPointTotals);

                const newCountbackGrossTotals = players.map((_, playerIndex) =>
                    scores.slice(12, 18).reduce((acc, holeScores) => {
                        const score = holeScores[playerIndex];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0)
                );
                setCountbackGrossTotals(newCountbackGrossTotals);

                const newCountbackPointTotals = players.map((_, playerIndex) =>
                    newPoints.slice(12, 18).reduce((acc, holePoints) => acc + (holePoints[playerIndex] || 0), 0)
                );
                setCountbackPointTotals(newCountbackPointTotals);

            }, [scores, players, playerHandicaps, holes]);

            // --- Event Handlers ---
            const handlePlayerNameChange = (event, playerIndex) => {
                const newPlayers = [...players];
                newPlayers[playerIndex] = event.target.value;
                setPlayers(newPlayers);
            };

            const handleHandicapChange = (event, playerIndex) => {
                const handicap = parseInt(event.target.value, 10);
                const newHandicaps = [...playerHandicaps];
                newHandicaps[playerIndex] = isNaN(handicap) ? 0 : handicap;
                setPlayerHandicaps(newHandicaps);
            };

            const handleScoreChange = (event, holeIndex, playerIndex) => {
                const score = event.target.value;
                const newScores = [...scores];
                
                // Ensure the hole array is large enough for all players
                while (newScores[holeIndex].length <= playerIndex) {
                    newScores[holeIndex].push('');
                }
                
                const newHoleScores = [...newScores[holeIndex]];
                newHoleScores[playerIndex] = score;
                newScores[holeIndex] = newHoleScores;
                setScores(newScores);
            };

            const handleAddPlayer = () => {
                if (players.length >= 30) {
                    alert('Maximum of 30 players allowed');
                    return;
                }
                
                const newPlayers = [...players, `Player ${players.length + 1}`];
                setPlayers(newPlayers);
                
                const newHandicaps = [...playerHandicaps, 0];
                setPlayerHandicaps(newHandicaps);
                
                // Add empty scores for the new player to all holes
                const newScores = scores.map(holeScores => {
                    const updatedHoleScores = [...holeScores];
                    while (updatedHoleScores.length < newPlayers.length) {
                        updatedHoleScores.push('');
                    }
                    return updatedHoleScores;
                });
                setScores(newScores);
                
                // Update points array
                const newPoints = points.map(holePoints => {
                    const updatedHolePoints = [...holePoints];
                    while (updatedHolePoints.length < newPlayers.length) {
                        updatedHolePoints.push('');
                    }
                    return updatedHolePoints;
                });
                setPoints(newPoints);
            };

            const handleRemovePlayer = (playerIndex) => {
                if (players.length <= 2) {
                    alert('Minimum of 2 players required');
                    return;
                }
                
                if (confirm(`Remove ${players[playerIndex]} from the scorecard?`)) {
                    const newPlayers = players.filter((_, index) => index !== playerIndex);
                    setPlayers(newPlayers);
                    
                    const newHandicaps = playerHandicaps.filter((_, index) => index !== playerIndex);
                    setPlayerHandicaps(newHandicaps);
                    
                    // Remove scores for this player from all holes
                    const newScores = scores.map(holeScores => 
                        holeScores.filter((_, index) => index !== playerIndex)
                    );
                    setScores(newScores);
                    
                    // Remove points for this player from all holes
                    const newPoints = points.map(holePoints => 
                        holePoints.filter((_, index) => index !== playerIndex)
                    );
                    setPoints(newPoints);
                }
            };

            const handleResetScores = () => {
                const resetScores = Array(initialHoles.length).fill(null).map(() => Array(players.length).fill(''));
                setScores(resetScores);
                setPoints(Array(initialHoles.length).fill(null).map(() => Array(players.length).fill('')));
            };

            const handleClearAllData = () => {
                if (confirm('Are you sure you want to clear all data? This will reset everything including player names and handicaps.')) {
                    setClubName('Letchworth Golf Club');
                    setPlayers(['Player 1', 'Player 2', 'Player 3', 'Player 4']);
                    setPlayerHandicaps(Array(4).fill(0));
                    const resetScores = Array(initialHoles.length).fill(null).map(() => Array(4).fill(''));
                    setScores(resetScores);
                    setPoints(Array(initialHoles.length).fill(null).map(() => Array(4).fill('')));
                    localStorage.removeItem('golf-scorecard-data');
                }
            };

            const handleShareWhatsApp = () => {
                let shareText = `${scorecardTitle}\n`;
                shareText += `${clubName}\n\n`;
                shareText += `Course Par: ${totalPar}\n\n`;
                shareText += "Final Scores:\n";
                
                players.forEach((player, index) => {
                    const front9Gross = scores.slice(0, 9).reduce((acc, holeScores) => {
                        const score = holeScores && holeScores[index];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0);
                    const front9Points = points.slice(0, 9).reduce((acc, holePoints) => {
                        const point = holePoints && holePoints[index];
                        return acc + (point || 0);
                    }, 0);
                    const back9Gross = scores.slice(9, 18).reduce((acc, holeScores) => {
                        const score = holeScores && holeScores[index];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0);
                    const back9Points = points.slice(9, 18).reduce((acc, holePoints) => {
                        const point = holePoints && holePoints[index];
                        return acc + (point || 0);
                    }, 0);

                    shareText += `--- ${player} ---\n`;
                    shareText += `Total Gross: ${playerGrossTotals[index]}\n`;
                    shareText += `Total Points: ${playerPointTotals[index]}\n`;
                    shareText += `Front 9 Gross: ${front9Gross} | Front 9 Points: ${front9Points}\n`;
                    shareText += `Back 9 Gross: ${back9Gross} | Back 9 Points: ${back9Points}\n`;
                    shareText += `Countback Points (Holes 13-18): ${playerCountbackPointTotals[index]}\n\n`;
                });
                shareText += `Shared from the Scorekeeping App!`;

                const encodedText = encodeURIComponent(shareText);
                const whatsappUrl = `https://wa.me/?text=${encodedText}`;
                window.open(whatsappUrl, '_blank');
            };

            const handleShareEmail = () => {
                // Create email content
                let emailBody = `Scorecard Summary for: ${scorecardTitle}\n`;
                emailBody += `Club: ${clubName}\n\n`;
                emailBody += `Course Par: ${totalPar}\n\n`;
                emailBody += "Final Scores:\n";
                
                players.forEach((player, index) => {
                    const front9Gross = scores.slice(0, 9).reduce((acc, holeScores) => {
                        const score = holeScores && holeScores[index];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0);
                    const front9Points = points.slice(0, 9).reduce((acc, holePoints) => {
                        const point = holePoints && holePoints[index];
                        return acc + (point || 0);
                    }, 0);
                    const back9Gross = scores.slice(9, 18).reduce((acc, holeScores) => {
                        const score = holeScores && holeScores[index];
                        return acc + (parseInt(score, 10) || 0);
                    }, 0);
                    const back9Points = points.slice(9, 18).reduce((acc, holePoints) => {
                        const point = holePoints && holePoints[index];
                        return acc + (point || 0);
                    }, 0);

                    emailBody += `--- ${player} ---\n`;
                    emailBody += `Total Gross: ${playerGrossTotals[index]}\n`;
                    emailBody += `Total Points: ${playerPointTotals[index]}\n`;
                    emailBody += `Front 9 Gross: ${front9Gross} | Front 9 Points: ${front9Points}\n`;
                    emailBody += `Back 9 Gross: ${back9Gross} | Back 9 Points: ${back9Points}\n`;
                    emailBody += `Countback Points (Holes 13-18): ${playerCountbackPointTotals[index]}\n\n`;
                });
                emailBody += `Shared from the Golf Scorekeeping App!`;

                // Multiple fallback approaches
                const tryEmailMethods = async () => {
                    const subject = `Golf Scorecard: ${scorecardTitle}`;
                    
                    // Method 1: Try standard mailto (works best with shorter content)
                    const shortEmailBody = `Scorecard Summary: ${clubName}\nCourse Par: ${totalPar}\n\nSee attached scorecard data.`;
                    const mailtoUrl = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(shortEmailBody)}`;
                    
                    // Method 2: Create a downloadable text file
                    const createDownloadableFile = () => {
                        const blob = new Blob([emailBody], { type: 'text/plain' });
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.style.display = 'none';
                        a.href = url;
                        a.download = `golf-scorecard-${new Date().toISOString().split('T')[0]}.txt`;
                        document.body.appendChild(a);
                        a.click();
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);
                    };
                    
                    // Method 3: Copy to clipboard
                    const copyToClipboard = async () => {
                        try {
                            await navigator.clipboard.writeText(emailBody);
                            return true;
                        } catch (err) {
                            console.error('Clipboard write failed:', err);
                            return false;
                        }
                    };
                    
                    // Show user options
                    const userChoice = confirm(
                        'Choose your preferred sharing method:\n\n' +
                        'OK = Open email client with basic info\n' +
                        'Cancel = Copy full scorecard to clipboard + download text file'
                    );
                    
                    if (userChoice) {
                        // User chose email client
                        try {
                            window.open(mailtoUrl, '_self');
                        } catch (error) {
                            alert('Could not open email client. Trying alternative method...');
                            const copied = await copyToClipboard();
                            createDownloadableFile();
                            if (copied) {
                                alert('Scorecard copied to clipboard AND downloaded as text file!');
                            } else {
                                alert('Scorecard downloaded as text file. Check your Downloads folder.');
                            }
                        }
                    } else {
                        // User chose clipboard + download
                        const copied = await copyToClipboard();
                        createDownloadableFile();
                        
                        if (copied) {
                            alert('✅ Scorecard data copied to clipboard AND downloaded as text file!\n\nYou can now paste the data into any email or messaging app.');
                        } else {
                            alert('✅ Scorecard downloaded as text file!\n\nCheck your Downloads folder for the scorecard data.');
                        }
                    }
                };
                
                tryEmailMethods();
            };

            return (
                <div className="min-h-screen bg-gray-100 p-4 md:p-8 font-sans antialiased text-gray-800">
                    <div className="max-w-7xl mx-auto mb-6">
                        <h1 className="w-full text-3xl md:text-4xl font-extrabold text-center text-teal-700 mb-2">
                            {scorecardTitle}
                        </h1>
                        <input
                            type="text"
                            value={clubName}
                            onChange={(e) => setClubName(e.target.value)}
                            className="w-full text-xl text-center font-semibold text-gray-600 bg-transparent border-b-2 border-transparent focus:outline-none focus:border-gray-400 mb-2"
                        />
                        <p className="text-center text-gray-500">Gross scores + Stableford Points</p>
                        <p className="text-center text-green-600 text-xs mt-1">✓ Scores automatically saved</p>
                        <div className="text-center text-sm text-gray-600 mt-2">
                            <p><strong>Points System:</strong> Eagle+ = 4pts | Birdie = 3pts | Par = 2pts | Bogey = 1pt | Double+ = 0pts</p>
                        </div>
                        
                        <div className="text-center mt-4">
                            <button
                                onClick={handleAddPlayer}
                                className="bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 mr-2"
                                disabled={players.length >= 30}
                            >
                                + Add Player ({players.length}/30)
                            </button>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto bg-white rounded-xl shadow-lg overflow-x-auto">
                        <table className="w-full text-left border-collapse">
                            <thead className="bg-teal-600 text-white sticky top-0">
                                <tr className="text-sm uppercase font-semibold">
                                    <th rowSpan="2" className="py-3 px-2 md:px-4 text-center">Hole</th>
                                    <th rowSpan="2" className="py-3 px-2 md:px-4 text-center">Par</th>
                                    <th rowSpan="2" className="py-3 px-2 md:px-4 text-center">Index</th>
                                    {players.map((_, index) => (
                                        <th key={index} colSpan="2" className="py-3 px-2 md:px-4 text-center relative">
                                            <input
                                                type="text"
                                                value={players[index]}
                                                onChange={(e) => handlePlayerNameChange(e, index)}
                                                className="w-full text-center bg-transparent border-b-2 border-white focus:outline-none focus:border-teal-200 pr-6"
                                            />
                                            {players.length > 2 && (
                                                <button
                                                    onClick={() => handleRemovePlayer(index)}
                                                    className="absolute right-1 top-2 text-red-200 hover:text-red-100 font-bold text-sm"
                                                    title="Remove player"
                                                >
                                                    ×
                                                </button>
                                            )}
                                        </th>
                                    ))}
                                </tr>
                                <tr>
                                    {players.map((_, index) => (
                                        <React.Fragment key={index}>
                                            <th className="py-3 px-2 md:px-4 text-center">Gross</th>
                                            <th className="py-3 px-2 md:px-4 text-center">Points</th>
                                        </React.Fragment>
                                    ))}
                                </tr>
                                <tr className="bg-teal-700 text-white text-xs">
                                    <th colSpan="3" className="py-1 px-2 md:px-4 text-center">Handicap (PHC)</th>
                                    {playerHandicaps.slice(0, players.length).map((handicap, index) => (
                                        <th key={index} colSpan="2" className="py-1 px-2 md:px-4">
                                            <input
                                                type="number"
                                                min="0"
                                                value={handicap}
                                                onChange={(e) => handleHandicapChange(e, index)}
                                                className="w-full text-center bg-transparent border-b-2 border-white focus:outline-none focus:border-teal-200"
                                            />
                                        </th>
                                    ))}
                                </tr>
                            </thead>
                            <tbody>
                                {holes.slice(0, 9).map((hole, holeIndex) => (
                                    <tr key={hole.no} className="border-t border-gray-200 hover:bg-gray-50">
                                        <td className="py-2 px-2 md:px-4 text-center font-medium">{hole.no}</td>
                                        <td className="py-2 px-2 md:px-4 text-center">{hole.par}</td>
                                        <td className="py-2 px-2 md:px-4 text-center">{hole.index}</td>
                                        {players.map((_, playerIndex) => (
                                            <React.Fragment key={playerIndex}>
                                                <td className="py-2 px-2 md:px-4">
                                                    <input
                                                        type="number"
                                                        min="1"
                                                        value={scores[holeIndex] && scores[holeIndex][playerIndex] !== undefined ? scores[holeIndex][playerIndex] : ''}
                                                        onChange={(e) => handleScoreChange(e, holeIndex, playerIndex)}
                                                        className="w-full p-2 text-center border rounded-md"
                                                    />
                                                </td>
                                                <td className="py-2 px-2 md:px-4 text-center font-bold">
                                                    {points[holeIndex] && points[holeIndex][playerIndex] !== undefined ? points[holeIndex][playerIndex] : ''}
                                                </td>
                                            </React.Fragment>
                                        ))}
                                    </tr>
                                ))}

                                <tr className="bg-blue-50 border-t-2 border-blue-400 font-bold">
                                    <td colSpan="2" className="py-2 px-2 md:px-4 text-center text-blue-700">Out (Front 9)</td>
                                    <td className="py-2 px-2 md:px-4 text-center text-blue-700">{front9Par}</td>
                                    {players.map((_, playerIndex) => {
                                        const front9Gross = scores.slice(0, 9).reduce((acc, holeScores) => {
                                            const score = holeScores && holeScores[playerIndex];
                                            return acc + (parseInt(score, 10) || 0);
                                        }, 0);
                                        const front9Points = points.slice(0, 9).reduce((acc, holePoints) => {
                                            const point = holePoints && holePoints[playerIndex];
                                            return acc + (point || 0);
                                        }, 0);
                                        return (
                                            <React.Fragment key={playerIndex}>
                                                <td className="py-2 px-2 md:px-4 text-center text-blue-700">{front9Gross || ''}</td>
                                                <td className="py-2 px-2 md:px-4 text-center text-blue-700">{front9Points || ''}</td>
                                            </React.Fragment>
                                        );
                                    })}
                                </tr>

                                {holes.slice(9, 18).map((hole, holeIndex) => {
                                    const actualIndex = holeIndex + 9;
                                    return (
                                        <tr key={hole.no} className="border-t border-gray-200 hover:bg-gray-50">
                                            <td className="py-2 px-2 md:px-4 text-center font-medium">{hole.no}</td>
                                            <td className="py-2 px-2 md:px-4 text-center">{hole.par}</td>
                                            <td className="py-2 px-2 md:px-4 text-center">{hole.index}</td>
                                            {players.map((_, playerIndex) => (
                                                <React.Fragment key={playerIndex}>
                                                    <td className="py-2 px-2 md:px-4">
                                                        <input
                                                            type="number"
                                                            min="1"
                                                            value={scores[actualIndex] && scores[actualIndex][playerIndex] !== undefined ? scores[actualIndex][playerIndex] : ''}
                                                            onChange={(e) => handleScoreChange(e, actualIndex, playerIndex)}
                                                            className="w-full p-2 text-center border rounded-md"
                                                        />
                                                    </td>
                                                    <td className="py-2 px-2 md:px-4 text-center font-bold">
                                                        {points[actualIndex] && points[actualIndex][playerIndex] !== undefined ? points[actualIndex][playerIndex] : ''}
                                                    </td>
                                                </React.Fragment>
                                            ))}
                                        </tr>
                                    );
                                })}

                                <tr className="bg-green-50 border-t-2 border-green-400 font-bold">
                                    <td colSpan="2" className="py-2 px-2 md:px-4 text-center text-green-700">In (Back 9)</td>
                                    <td className="py-2 px-2 md:px-4 text-center text-green-700">{back9Par}</td>
                                    {players.map((_, playerIndex) => {
                                        const back9Gross = scores.slice(9, 18).reduce((acc, holeScores) => {
                                            const score = holeScores && holeScores[playerIndex];
                                            return acc + (parseInt(score, 10) || 0);
                                        }, 0);
                                        const back9Points = points.slice(9, 18).reduce((acc, holePoints) => {
                                            const point = holePoints && holePoints[playerIndex];
                                            return acc + (point || 0);
                                        }, 0);
                                        return (
                                            <React.Fragment key={playerIndex}>
                                                <td className="py-2 px-2 md:px-4 text-center text-green-700">{back9Gross || ''}</td>
                                                <td className="py-2 px-2 md:px-4 text-center text-green-700">{back9Points || ''}</td>
                                            </React.Fragment>
                                        );
                                    })}
                                </tr>
                                
                                <tr className="bg-gray-200 border-t-2 border-gray-400 font-bold">
                                    <td colSpan="3" className="py-2 px-2 md:px-4 text-center text-gray-700">Countback (Holes 13-18)</td>
                                    {players.map((_, playerIndex) => (
                                        <React.Fragment key={playerIndex}>
                                            <td className="py-2 px-2 md:px-4 text-center"></td>
                                            <td className="py-2 px-2 md:px-4 text-center text-gray-700">{playerCountbackPointTotals[playerIndex] || ''}</td>
                                        </React.Fragment>
                                    ))}
                                </tr>

                                <tr className="bg-teal-50 border-t-2 border-teal-600 font-bold">
                                    <td colSpan="2" className="py-3 px-2 md:px-4 text-center">Total</td>
                                    <td className="py-3 px-2 md:px-4 text-center">{totalPar}</td>
                                    {playerGrossTotals.slice(0, players.length).map((total, index) => (
                                        <React.Fragment key={index}>
                                            <td className="py-3 px-2 md:px-4 text-center text-teal-800">{total}</td>
                                            <td className="py-3 px-2 md:px-4 text-center"></td>
                                        </React.Fragment>
                                    ))}
                                </tr>
                                <tr className="bg-teal-50 border-t border-gray-200 font-bold">
                                    <td colSpan="3" className="py-3 px-2 md:px-4 text-center text-sm">Total Points</td>
                                    {playerPointTotals.slice(0, players.length).map((total, index) => (
                                        <React.Fragment key={index}>
                                            <td className="py-3 px-2 md:px-4 text-center"></td>
                                            <td className="py-3 px-2 md:px-4 text-center text-teal-800">{total}</td>
                                        </React.Fragment>
                                    ))}
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div className="max-w-7xl mx-auto mt-6 flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-3">
                        <button
                            onClick={handleResetScores}
                            className="w-full md:w-1/4 bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                        >
                            Reset Scores
                        </button>
                        <button
                            onClick={handleClearAllData}
                            className="w-full md:w-1/4 bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                        >
                            Clear All Data
                        </button>
                        <button
                            onClick={handleShareWhatsApp}
                            className="w-full md:w-1/4 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                        >
                            Share via WhatsApp
                        </button>
                        <button
                            onClick={handleShareEmail}
                            className="w-full md:w-1/4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                        >
                            Email Scorecard
                        </button>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>